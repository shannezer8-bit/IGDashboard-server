"use strict";function e(e,t,s,r){return new(s||(s=Promise))((function(i,a){function n(e){try{u(r.next(e))}catch(e){a(e)}}function o(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(n,o)}u((r=r.apply(e,t||[])).next())}))}Object.defineProperty(exports,"__esModule",{value:!0}),"function"==typeof SuppressedError&&SuppressedError;class t{}function s(e){const t=new URLSearchParams;return Object.entries(e).forEach((([e,s])=>{s&&t.set(e,s.toString())})),t}t.API_URL="https://graph.facebook.com";class r{constructor(e,t){this.params={access_token:e},this.apiVersion=t}config(){var e;return{params:this.params,method:this.method(),url:this.url(),baseURL:`${t.API_URL}/${null!==(e=this.apiVersion)&&void 0!==e?e:""}`}}execute(){return e(this,void 0,void 0,(function*(){const e=this.config(),t=`${e.baseURL}/${e.url}?${s(e.params)}`,r=new Request(t,{method:e.method}),i=yield fetch(r),a=yield i.json();return this.parseResponse(a)}))}withPaging(e){return this.params.before=void 0,this.params.after=void 0,this.params[e.option]=e.value,this}withRange(e,t){return this.params.since=e,this.params.until=t,this}withLimit(e){return this.params.limit=e,this}withApiVersion(e){return this.apiVersion=e,this}method(){return"GET"}}class i extends r{constructor(e,t){super(e),this.commentId=t}url(){return`/${this.commentId}`}}class a{constructor(e){this.data=e}getData(){return this.data}}class n extends a{wasSuccessful(){return this.data.success}}class o extends i{parseResponse(e){return new n(e)}method(){return"DELETE"}}var u,p,d,c,h,l,g,m,x,M,w,I,R,_,E,T,P,v,A,S;exports.PageField=void 0,(u=exports.PageField||(exports.PageField={})).BIOGRAPHY="biography",u.ID="id",u.IG_ID="ig_id",u.FOLLOWERS_COUNT="followers_count",u.FOLLOWS_COUNT="follows_count",u.MEDIA_COUNT="media_count",u.NAME="name",u.PROFILE_PICTURE_URL="profile_picture_url",u.USERNAME="username",exports.DayMetric=void 0,(p=exports.DayMetric||(exports.DayMetric={})).EMAIL_CONTACTS="email_contacts",p.FOLLOWER_COUNT="follower_count",p.GET_DIRECTIONS_CLICKS="get_directions_clicks",p.IMPRESSIONS="impressions",p.PHONE_CALL_CLICKS="phone_call_clicks",p.PROFILE_VIEWS="profile_views",p.REACH="reach",p.TEXT_MESSAGE_CLICKS="text_message_clicks",p.WEBSITE_CLICKS="website_clicks",exports.WeekAndMonthMetric=void 0,(d=exports.WeekAndMonthMetric||(exports.WeekAndMonthMetric={})).IMPRESSIONS="impressions",d.REACH="reach",exports.LifetimeMetric=void 0,(c=exports.LifetimeMetric||(exports.LifetimeMetric={})).AUDIENCE_CITY="audience_city",c.AUDIENCE_COUNTRY="audience_country",c.AUDIENCE_GENDER_AGE="audience_gender_age",c.AUDIENCE_LOCALE="audience_locale",c.ONLINE_FOLLOWERS="online_followers",exports.MetricPeriod=void 0,(h=exports.MetricPeriod||(exports.MetricPeriod={})).DAY="day",h.WEEK="week",h.MONTH="days_28",h.LIFETIME="lifetime",exports.PublicMediaField=void 0,(l=exports.PublicMediaField||(exports.PublicMediaField={})).CAPTION="caption",l.COMMENTS_COUNT="comments_count",l.ID="id",l.CHILDREN="children",l.LIKE_COUNT="like_count",l.MEDIA_TYPE="media_type",l.MEDIA_URL="media_url",l.OWNER="owner",l.PERMALINK="permalink",l.TIMESTAMP="timestamp",l.USERNAME="username",l.MEDIA_PRODUCT_TYPE="media_product_type",l.VIDEO_TITLE="video_title",exports.PrivateMediaField=void 0,(g=exports.PrivateMediaField||(exports.PrivateMediaField={})).IG_ID="ig_id",g.IS_COMMENT_ENABLED="is_comment_enabled",g.SHORTCODE="shortcode",g.THUMBNAIL_URL="thumbnail_url",exports.HashtagMediaField=void 0,(m=exports.HashtagMediaField||(exports.HashtagMediaField={})).CAPTION="caption",m.COMMENTS_COUNT="comments_count",m.ID="id",m.CHILDREN="children",m.LIKE_COUNT="like_count",m.MEDIA_TYPE="media_type",m.MEDIA_URL="media_url",m.PERMALINK="permalink",m.TIMESTAMP="timestamp",exports.MediaProductType=void 0,(x=exports.MediaProductType||(exports.MediaProductType={})).AD="AD",x.FEED="FEED",x.IGTV="IGTV",x.STORY="STORY",x.REEL="REELS",exports.SimplePostMetric=void 0,(M=exports.SimplePostMetric||(exports.SimplePostMetric={})).ENGAGEMENT="engagement",M.IMPRESSIONS="impressions",M.REACH="reach",M.SAVED="saved",exports.StoryMetric=void 0,(w=exports.StoryMetric||(exports.StoryMetric={})).EXITS="exits",w.IMPRESSIONS="impressions",w.REACH="reach",w.REPLIES="replies",w.TAPS_FORWARD="taps_forward",w.TAPS_BACK="taps_back",exports.AlbumMetric=void 0,(I=exports.AlbumMetric||(exports.AlbumMetric={})).CAROUSEL_ALBUM_ENGAGEMENT="carousel_album_engagement",I.CAROUSEL_ALBUM_IMPRESSIONS="carousel_album_impressions",I.CAROUSEL_ALBUM_REACH="carousel_album_reach",I.CAROUSEL_ALBUM_SAVED="carousel_album_saved",I.CAROUSEL_ALBUM_VIDEO_VIEWS="carousel_album_video_views",exports.PageOption=void 0,(R=exports.PageOption||(exports.PageOption={})).BEFORE="before",R.AFTER="after",exports.CommentField=void 0,(_=exports.CommentField||(exports.CommentField={})).HIDDEN="hidden",_.ID="id",_.LIKE_COUNT="like_count",_.MEDIA="media",_.REPLIES="replies",_.TEXT="text",_.TIMESTAMP="timestamp",_.USER="user",_.USERNAME="username",_.FROM="from",_.PARENT_ID="parent_id",exports.ContainerField=void 0,(E=exports.ContainerField||(exports.ContainerField={})).ID="id",E.STATUS="status",E.STATUS_CODE="status_code",exports.ContentPublishingLimitFields=void 0,(T=exports.ContentPublishingLimitFields||(exports.ContentPublishingLimitFields={})).CONFIG="config",T.QUOTA_USAGE="quota_usage",exports.ApiVersion=void 0,(P=exports.ApiVersion||(exports.ApiVersion={})).V8_0="v8.0",P.V9_0="v9.0",P.V10_0="v10.0",P.V11_0="v11.0",P.V12_0="v12.0",P.V13_0="v13.0",P.V14_0="v14.0",P.V15_0="v15.0",P.V16_0="v16.0",P.V17_0="v17.0",P.V18_0="v18.0",P.LATEST="v18.0",exports.MediaTypeInResponses=void 0,(v=exports.MediaTypeInResponses||(exports.MediaTypeInResponses={})).IMAGE="IMAGE",v.VIDEO="VIDEO",v.CAROUSEL="CAROUSEL_ALBUM";class C extends a{getId(){return this.data.id}isHidden(){return this.data.hidden}getLikeCount(){return this.data.like_count}getParentMedia(){return this.data.media}getParentMediaId(){var e;return null===(e=this.data.media)||void 0===e?void 0:e.id}getReplies(){var e;return null===(e=this.data.replies)||void 0===e?void 0:e.data}getText(){return this.data.text}getTimestamp(){return this.data.timestamp}getUser(){return this.data.user}getUserId(){var e;return null===(e=this.data.user)||void 0===e?void 0:e.id}getUsername(){return this.data.username}getFrom(){return this.data.from}getParentId(){return this.data.parent_id}}class y extends i{constructor(e,t,...s){super(e,t);const r=s.length>0?new Set(s):new Set(Object.values(exports.CommentField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new C(e)}}class O extends i{constructor(e,t,s=!0){super(e,t),this.params.hide=s}parseResponse(e){return new n(e)}method(){return"POST"}}class f extends a{constructor(e){super(e.data)}getIds(){return this.data.map((e=>e.id))}getTexts(){return this.data.map((e=>e.text))}getTextsMap(){return new Map(this.data.map((e=>[e.id,e.text])))}getTimestamps(){return this.data.map((e=>e.timestamp))}getTimestampsMap(){return new Map(this.data.map((e=>[e.id,e.timestamp])))}getHidden(){return this.data.map((e=>e.hidden))}getHiddenMap(){return new Map(this.data.map((e=>[e.id,e.hidden])))}getLikeCounts(){return this.data.map((e=>e.like_count))}getLikeCountsMap(){return new Map(this.data.map((e=>[e.id,e.like_count])))}getMediaObjects(){return this.data.map((e=>e.media))}getMediaObjectsMap(){return new Map(this.data.map((e=>[e.id,e.media])))}getReplies(){return this.data.map((e=>{var t;return null===(t=e.replies)||void 0===t?void 0:t.data}))}getRepliesMap(){return new Map(this.data.map((e=>{var t;return[e.id,null===(t=e.replies)||void 0===t?void 0:t.data]})))}getUsers(){return this.data.map((e=>e.user))}getUsersMap(){return new Map(this.data.map((e=>[e.id,e.user])))}getUsernames(){return this.data.map((e=>e.username))}getUsernamesMap(){return new Map(this.data.map((e=>[e.id,e.username])))}}class L extends i{url(){return`${super.url()}/replies`}}class b extends L{constructor(e,t,...s){super(e,t);const r=s.length>0?new Set(s):new Set(Object.values(exports.CommentField));r.delete(exports.CommentField.REPLIES),this.params.fields=Array.from(r).join(",")}parseResponse(e){return new f(e)}}class V extends a{getId(){return this.data.id}}class G extends L{constructor(e,t,s){super(e,t),this.params.message=s}parseResponse(e){return new V(e)}method(){return"POST"}}class D extends a{getContainerId(){return this.data.id}getContainerStatus(){return this.data.status}getContainerStatusCode(){return this.data.status_code}}class q extends r{constructor(e,t,...s){super(e),this.containerId=t;const r=s.length>0?new Set(s):new Set(Object.values(exports.ContainerField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new D(e)}url(){return`/${this.containerId}`}}class k{static getAllMediaFields(){return[...Object.values(exports.PublicMediaField).filter((e=>e!=exports.PublicMediaField.VIDEO_TITLE)),...Object.values(exports.PrivateMediaField)]}}class U extends r{constructor(e,...t){super(e);const s=t.length>0?new Set(t):new Set(k.getAllMediaFields());this.params.fields=Array.from(s).join(",")}}class N extends a{getIds(){return this.data.map((e=>e.id))}getChildren(){return this.data.map((e=>e.children))}getChildrenMap(){return new Map(this.data.map((e=>[e.id,e.children])))}getCaptions(){return this.data.map((e=>e.caption))}getCaptionsMap(){return new Map(this.data.map((e=>[e.id,e.caption])))}getCommentsCount(){return this.data.map((e=>e.comments_count))}getCommentsCountMap(){return new Map(this.data.map((e=>[e.id,e.comments_count])))}getIgIds(){return this.data.map((e=>e.ig_id))}getIgIdsMap(){return new Map(this.data.map((e=>[e.id,e.ig_id])))}getCommentsEnabled(){return this.data.map((e=>e.is_comment_enabled))}getCommentsEnabledMap(){return new Map(this.data.map((e=>[e.id,e.is_comment_enabled])))}getLikes(){return this.data.map((e=>e.like_count))}getLikesMap(){return new Map(this.data.map((e=>[e.id,e.like_count])))}getMediaTypes(){return this.data.map((e=>e.media_type))}getMediaTypesMap(){return new Map(this.data.map((e=>[e.id,e.media_type])))}getMediaUrls(){return this.data.map((e=>e.media_url))}getMediaUrlsMap(){return new Map(this.data.map((e=>[e.id,e.media_url])))}getMediaOwners(){return this.data.map((e=>e.owner))}getMediaOwnersMap(){return new Map(this.data.map((e=>[e.id,e.owner])))}getMediaOwnerIds(){return this.data.map((e=>{var t;return null===(t=e.owner)||void 0===t?void 0:t.id}))}getMediaOwnerIdsMap(){return new Map(this.data.map((e=>{var t;return[e.id,null===(t=e.owner)||void 0===t?void 0:t.id]})))}getPermalinks(){return this.data.map((e=>e.permalink))}getPermalinksMap(){return new Map(this.data.map((e=>[e.id,e.permalink])))}getShortcodes(){return this.data.map((e=>e.shortcode))}getShortcodesMap(){return new Map(this.data.map((e=>[e.id,e.shortcode])))}getTimestamps(){return this.data.map((e=>null!=e.timestamp?new Date(e.timestamp):void 0))}getTimestampsMap(){return new Map(this.data.map((e=>[e.id,null!=e.timestamp?new Date(e.timestamp):void 0])))}getUsernames(){return this.data.map((e=>e.username))}getUsernamesMap(){return new Map(this.data.map((e=>[e.id,e.username])))}getMediaProductTypes(){return this.data.map((e=>e.media_product_type))}getMediaProductTypesMap(){return new Map(this.data.map((e=>[e.id,e.media_product_type])))}getVideoTitles(){return this.data.map((e=>e.video_title))}getVideoTitlesMap(){return new Map(this.data.map((e=>[e.id,e.video_title])))}}class F{constructor(e){this.pagingData=e}getPaging(){return this.pagingData}getCursors(){return this.pagingData.cursors}getPrevious(){return this.pagingData.previous}getNext(){return this.pagingData.next}getBefore(){var e;return null===(e=this.pagingData.cursors)||void 0===e?void 0:e.before}getAfter(){var e;return null===(e=this.pagingData.cursors)||void 0===e?void 0:e.after}}class B extends N{constructor(e){super(e.data),this.paging=new F(e.paging)}getPaging(){return this.paging}}class H extends U{constructor(e,t,s,...r){super(e,...r.length>0?r:Object.values(exports.HashtagMediaField)),this.hashtagId=t,this.params.user_id=s}parseResponse(e){return new B(e)}url(){return`/${this.hashtagId}`}}class j extends H{url(){return`${super.url()}/recent_media`}}class $ extends H{url(){return`${super.url()}/top_media`}}class K extends a{constructor(e){super(e.data)}getId(){return this.data[0].id}}class W extends r{constructor(e,t,s){super(e),this.params.q=s,this.params.user_id=t}parseResponse(e){return new K(e)}url(){return"/ig_hashtag_search"}}class Y extends a{constructor(e){super(e.data)}getIds(){return this.data.map((e=>e.id))}}class X extends r{constructor(e,t){super(e),this.mediaId=t}parseResponse(e){return new Y(e)}url(){return`/${this.mediaId}/children`}}class Q extends r{constructor(e,t){super(e),this.mediaId=t}url(){return`/${this.mediaId}/comments`}}class z extends Q{constructor(e,t,...s){super(e,t);const r=s.length>0?new Set(s):new Set(Object.values(exports.CommentField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new f(e)}}class J extends Q{constructor(e,t,s){super(e,t),this.params.message=s}parseResponse(e){return new V(e)}method(){return"POST"}}class Z extends a{getId(){return this.data.id}getCaption(){return this.data.caption}getIgId(){return this.data.ig_id}getCommentsCount(){return this.data.comments_count}isCommentsEnabled(){return this.data.is_comment_enabled}getLikeCount(){return this.data.like_count}getMediaType(){return this.data.media_type}getMediaUrl(){return this.data.media_url}getOwner(){return this.data.owner}getOwnerId(){var e;return null===(e=this.data.owner)||void 0===e?void 0:e.id}getPermalink(){return this.data.permalink}getShortcode(){return this.data.shortcode}getTimestamp(){return null!=this.data.timestamp?new Date(this.data.timestamp):void 0}getUsername(){return this.data.username}getMediaProductType(){return this.data.media_product_type}getVideoTitle(){return this.data.video_title}}class ee extends U{constructor(e,t,...s){super(e,...s.length>0?s:Object.values(exports.PublicMediaField).filter((e=>e!=exports.PublicMediaField.VIDEO_TITLE))),this.mediaId=t}url(){return`/${this.mediaId}`}parseResponse(e){return new Z(e)}}class te extends a{getMetrics(){return this.data}getMetricByExpression(e){return this.data.find(e)}getMetricsByExpression(e){return this.data.filter(e)}getMetricByName(e,t=!0){const s=t?{sensitivity:"accent"}:{sensitivity:"case"};return this.getMetricByExpression((t=>0===t.getMetricName().localeCompare(e,void 0,s)))}getMetricsByRegex(e){const t=new RegExp(e);return this.getMetricsByExpression((e=>t.test(e.getMetricName())))}}class se{constructor(e){this.metricData=e}getMetricData(){return this.metricData}getMetricName(){return this.metricData.name}getMetricPeriod(){return this.metricData.period}getMetricTitle(){return this.metricData.title}getMetricDescription(){return this.metricData.description}getMetricId(){return this.metricData.id}getMetricValues(){return this.metricData.values}}class re extends se{getByExpression(e){return this.metricData.values.filter(e)}getGreaterThan(e){return this.getByExpression((t=>t.value>e))}getGreaterThanOrEqual(e){return this.getByExpression((t=>t.value>=e))}getLessThan(e){return this.getByExpression((t=>t.value<e))}getLessThanOrEqual(e){return this.getByExpression((t=>t.value<=e))}getEqual(e){return this.getByExpression((t=>t.value===e))}getBetween(e,t){return this.getByExpression((s=>t>s.value&&s.value>e))}getHighest(){let e;return this.metricData.values.forEach((t=>{(null==e||t.value>e.value)&&(e=t)})),e}getLowest(){let e;return this.metricData.values.forEach((t=>{(null==e||t.value<e.value)&&(e=t)})),e}}class ie extends te{constructor(e){super(e.data.map((e=>new re(e))))}}class ae extends r{constructor(e,t,s){super(e),this.mediaId=t,this.params.metric=Array.from(s).join(",")}url(){return`/${this.mediaId}/insights`}parseResponse(e){return new ie(e)}}class ne extends ae{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.SimplePostMetric)))}}class oe extends ae{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.StoryMetric)))}}class ue extends a{getConfig(){return this.getData().config}getQuotaTotal(){var e;return null===(e=this.getData().config)||void 0===e?void 0:e.quota_total}getQuotaDuration(){var e;return null===(e=this.getData().config)||void 0===e?void 0:e.quota_duration}getQuotaUsage(){return this.getData().quota_usage}}class pe extends r{constructor(e,t,...s){super(e),this.pageId=t;const r=s.length>0?new Set(s):new Set(Object.values(exports.ContentPublishingLimitFields));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new ue(e.data[0])}url(){return`/${this.pageId}/content_publishing_limit`}addRange(e,t){throw new Error('For GetContentPublishingLimitRequest, use "since(date)" instead.')}withRange(e,t){throw new Error('For GetContentPublishingLimitRequest, use "since(date)" instead.')}since(e){const t=new Date;if(t.setDate(t.getDate()-1),e<t)throw new de(e);return this.params.since=Math.floor(e.getTime()/1e3),this}}class de extends Error{constructor(e){super(`The provided date (${e}) is not valid. It has to be at most 1 day ago.`)}}class ce extends a{getId(){return this.data.id}getBiography(){return this.data.biography}getIgId(){return this.data.ig_id}getFollowers(){return this.data.followers_count}getFollows(){return this.data.follows_count}getMediaCount(){return this.data.media_count}getName(){return this.data.name}getProfilePictureUrl(){return this.data.profile_picture_url}getUsername(){return this.data.username}}class he extends r{constructor(e,t,...s){super(e),this.pageId=t;const r=s.length>0?new Set(s):new Set(Object.values(exports.PageField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new ce(e)}url(){return`/${this.pageId}`}}class le extends r{constructor(e,t,s){super(e),this.pageId=t,this.params.metric=Array.from(s).join(","),this.params.period=this.period()}url(){return`/${this.pageId}/insights`}}class ge extends te{constructor(e){super(e.data.map((e=>new re(e)))),this.paging=new F(e.paging)}getPaging(){return this.paging}}class me extends le{parseResponse(e){return new ge(e)}}class xe extends me{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.DayMetric)))}period(){return exports.MetricPeriod.DAY}}class Me extends se{constructor(e){super(e),this.value=this.metricData.values[0].value,this.endTime=new Date(this.metricData.values[0].end_time)}getValue(){return this.value}getEndTime(){return this.endTime}getKeysByExpression(e){return Object.entries(this.value).filter(e).map((([e])=>e))}getKeysByGreaterThan(e){return this.getKeysByExpression((([,t])=>t>e))}getKeysByGreaterThanOrEqualTo(e){return this.getKeysByExpression((([,t])=>t>=e))}getKeysByLessThan(e){return this.getKeysByExpression((([,t])=>t<e))}getKeysByLessThanOrEqualTo(e){return this.getKeysByExpression((([,t])=>t<=e))}getKeysByEqualTo(e){return this.getKeysByExpression((([,t])=>t===e))}getByExpression(e){const t={};return Object.entries(this.value).filter(e).forEach((([e,s])=>t[e]=s)),t}getByGreaterThan(e){return this.getByExpression((([,t])=>t>e))}getByGreaterThanOrEqualTo(e){return this.getByExpression((([,t])=>t>=e))}getByLessThan(e){return this.getByExpression((([,t])=>t<e))}getByLessThanOrEqualTo(e){return this.getByExpression((([,t])=>t<=e))}getByKeys(...e){return this.getByExpression((([t])=>e.includes(t)))}getHighest(){let e;return Object.entries(this.value).forEach((([t,s])=>{(null==e||s>e.value)&&(e={key:t,value:s})})),e}getHighestKey(){var e;return null===(e=this.getHighest())||void 0===e?void 0:e.key}getLowest(){let e;return Object.entries(this.value).forEach((([t,s])=>{(null==e||s<e.value)&&(e={key:t,value:s})})),e}getLowestKey(){var e;return null===(e=this.getLowest())||void 0===e?void 0:e.key}}class we extends te{constructor(e){super(e.data.map((e=>new Me(e))))}}class Ie extends le{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.LifetimeMetric)))}parseResponse(e){return new we(e)}period(){return exports.MetricPeriod.LIFETIME}}class Re extends me{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.WeekAndMonthMetric)))}period(){return exports.MetricPeriod.MONTH}}class _e extends me{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.WeekAndMonthMetric)))}period(){return exports.MetricPeriod.WEEK}}class Ee extends a{getAccountInfo(){return this.data}}class Te extends r{constructor(e,t){super(e),this.instagramPageId=t,this.params.fields="profile_picture_url,name,username"}parseResponse(e){return new Ee(e)}url(){return`/${this.instagramPageId}`}}class Pe extends N{constructor(e){super(e.data),this.paging=new F(e.paging)}getPaging(){return this.paging}}class ve extends U{constructor(e,t,...s){super(e,...s),this.pageId=t}url(){return`/${this.pageId}/media`}parseResponse(e){return new Pe(e)}}class Ae extends r{constructor(e,t){super(e),this.pageId=t,this.params.media_type=this.mediaType()}parseResponse(e){return new V(e)}url(){return`/${this.pageId}/media`}method(){return"POST"}}exports.MediaType=void 0,(A=exports.MediaType||(exports.MediaType={})).IMAGE="IMAGE",A.CAROUSEL="CAROUSEL",A.REEL="REELS",A.STORIES="STORIES";class Se extends Ae{constructor(e,t,s,r){super(e,t),this.params.caption=s,this.params.location_id=r}withCaption(e){return this.params.caption=e,this}withLocationId(e){return this.params.location_id=e,this}}class Ce extends Se{constructor(e,t,s,r,i){super(e,t,r,i),this.params.children=s}withChildren(e){return this.params.children=e,this}addChildren(...e){var t;return this.params.children=(null!==(t=this.params.children)&&void 0!==t?t:[]).concat(e),this}removeChildren(...e){var t;return this.params.children=null===(t=this.params.children)||void 0===t?void 0:t.filter((t=>!e.includes(t))),this}mediaType(){return exports.MediaType.CAROUSEL}}class ye extends Se{constructor(e,t,s,r,i,a,n=!1){super(e,t,r,i),this.params.image_url=s,this.params.user_tags=a,this.params.is_carousel=n}withUserTags(e){return this.params.user_tags=e,this}withIsCarousel(e){return this.params.is_carousel=e,this}mediaType(){return exports.MediaType.IMAGE}}class Oe extends r{constructor(e,t,s){super(e),this.pageId=t,this.params.creation_id=s}parseResponse(e){return new V(e)}url(){return`/${this.pageId}/media_publish`}method(){return"POST"}}class fe extends a{constructor(e){super(e.data),this.paging=new F(e.paging)}getIds(){return this.data.map((e=>e.id))}getPaging(){return this.paging}}class Le extends r{constructor(e,t){super(e),this.pageId=t}parseResponse(e){return new fe({data:e.data,paging:e.paging})}url(){return`/${this.pageId}/recently_searched_hashtags`}}class be extends r{constructor(e,t){super(e),this.pageId=t}parseResponse(e){return new fe({data:e.data,paging:e.paging})}url(){return`/${this.pageId}/stories`}}class Ve extends N{constructor(e){var t;super(e.data),this.cursors=null===(t=e.paging)||void 0===t?void 0:t.cursors}getCursors(){return this.cursors}getAfter(){var e;return null===(e=this.cursors)||void 0===e?void 0:e.after}getBefore(){var e;return null===(e=this.cursors)||void 0===e?void 0:e.before}}class Ge extends U{constructor(e,t,...s){super(e,...s.length>0?s:Object.values(exports.PublicMediaField).filter((e=>e!=exports.PublicMediaField.VIDEO_TITLE))),this.pageId=t}url(){return`/${this.pageId}/tags`}parseResponse(e){return new Ve(e)}}class De extends Se{constructor(e,t,s,r,i,a,n){super(e,t,r,n),this.params.video_url=s,this.params.thumb_offset=i,this.params.share_to_feed=a}withThumbOffset(e){return this.params.thumb_offset=e,this}withShareToFeed(e){return this.params.share_to_feed=e,this}mediaType(){return exports.MediaType.REEL}}class qe extends Ae{constructor(e,t){super(e,t)}mediaType(){return exports.MediaType.STORIES}}class ke extends qe{constructor(e,t,s){super(e,t),this.params.image_url=s}}class Ue extends qe{constructor(e,t,s){super(e,t),this.params.video_url=s}}exports.CONTAINER_STATUS_CODE=void 0,(S=exports.CONTAINER_STATUS_CODE||(exports.CONTAINER_STATUS_CODE={})).EXPIRED="EXPIRED",S.ERROR="ERROR",S.FINISHED="FINISHED",S.IN_PROGRESS="IN_PROGRESS",S.PUBLISHED="PUBLISHED";class Ne extends a{getAuthorizedFacebookPages(){return this.data.data}}class Fe extends a{getInstagramPageId(){return this.data.instagram_business_account.id}}class Be extends a{getLongLivedToken(){return this.data.access_token}}exports.AbstractCommentRequest=i,exports.AbstractGetHashtagMediaRequest=H,exports.AbstractGetInsightsResponse=te,exports.AbstractGetManyMediaResponse=N,exports.AbstractGetMediaInsightsRequest=ae,exports.AbstractGetMediaRequest=U,exports.AbstractGetPageInsightsRequest=le,exports.AbstractGetPageTimedInsightsRequest=me,exports.AbstractMediaCommentsRequest=Q,exports.AbstractMetric=se,exports.AbstractPostPageMediaRequest=Ae,exports.AbstractPostPageStoriesMediaRequest=qe,exports.AbstractPostPageTimelineMediaRequest=Se,exports.AbstractRepliesRequest=L,exports.AbstractRequest=r,exports.AbstractResponse=a,exports.Client=class{constructor(e,t,s){this.accessToken=e,this.pageId=t,this.apiVersion=s}getAccessToken(){return this.accessToken}getPageId(){return this.pageId}newGetPageInfoRequest(...e){return new he(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageMediaRequest(...e){return new ve(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageLifetimeInsightsRequest(...e){return new Ie(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageDayInsightsRequest(...e){return new xe(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageWeekInsightsRequest(...e){return new _e(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageMonthInsightsRequest(...e){return new Re(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetMediaInfoRequest(e,...t){return new ee(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newGetMediaChildrenRequest(e){return new X(this.accessToken,e).withApiVersion(this.apiVersion)}newGetMediaCommentsRequest(e,...t){return new z(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostMediaCommentRequest(e,t){return new J(this.accessToken,e,t).withApiVersion(this.apiVersion)}newGetSimplePostMediaInsightsRequest(e,...t){return new ne(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newGetStoryMediaInsightsRequest(e,...t){return new oe(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newGetHashtagIdRequest(e,t=this.pageId){return new W(this.accessToken,t,e).withApiVersion(this.apiVersion)}newGetHashtagRecentMediaRequest(e,t=this.pageId,...s){return new j(this.accessToken,e,t,...s).withApiVersion(this.apiVersion)}newGetHashtagTopMediaRequest(e,t=this.pageId,...s){return new $(this.accessToken,e,t,...s).withApiVersion(this.apiVersion)}newGetCommentRequest(e,...t){return new y(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostHideCommentRequest(e,t=!0){return new O(this.accessToken,e,t).withApiVersion(this.apiVersion)}newDeleteCommentRequest(e){return new o(this.accessToken,e).withApiVersion(this.apiVersion)}newGetRepliesRequest(e,...t){return new b(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostReplyRequest(e,t){return new G(this.accessToken,e,t).withApiVersion(this.apiVersion)}newGetTagsRequest(...e){return new Ge(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetContainerRequest(e,...t){return new q(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostPagePhotoMediaRequest(e,t,s,r){return new ye(this.accessToken,this.pageId,e,t,s,r).withApiVersion(this.apiVersion)}newPostPageReelMediaRequest(e,t,s,r,i){return new De(this.accessToken,this.pageId,e,t,s,r,i).withApiVersion(this.apiVersion)}newPostPageCarouselMediaRequest(e,t,s){return new Ce(this.accessToken,this.pageId,e,t,s).withApiVersion(this.apiVersion)}newPostPageStoriesPhotoMediaRequest(e){return new ke(this.accessToken,this.pageId,e).withApiVersion(this.apiVersion)}newPostPageStoriesVideoMediaRequest(e){return new Ue(this.accessToken,this.pageId,e).withApiVersion(this.apiVersion)}newPostPublishMediaRequest(e){return new Oe(this.accessToken,this.pageId,e).withApiVersion(this.apiVersion)}newGetPageStoriesRequest(){return new be(this.accessToken,this.pageId).withApiVersion(this.apiVersion)}newGetPageRecentlySearchedHashtagsRequest(){return new Le(this.accessToken,this.pageId).withApiVersion(this.apiVersion)}newGetContentPublishingLimitRequest(...e){return new pe(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetInstagramAccountInfoRequest(){return new Te(this.accessToken,this.pageId).withApiVersion(this.apiVersion)}},exports.CommentUpdateResponse=n,exports.ComplexMetric=Me,exports.Constants=t,exports.CreatedObjectIdResponse=V,exports.DeleteCommentRequest=o,exports.GetAlbumMediaInsightsRequest=class extends ae{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.AlbumMetric)))}},exports.GetAuthorizedFacebookPagesRequest=class extends r{constructor(e){super(e)}parseResponse(e){return new Ne(e)}url(){return"/me/accounts"}},exports.GetAuthorizedFacebookPagesResponse=Ne,exports.GetCommentRequest=y,exports.GetCommentResponse=C,exports.GetContainerRequest=q,exports.GetContainerResponse=D,exports.GetHashtagIdRequest=W,exports.GetHashtagIdResponse=K,exports.GetHashtagMediaResponse=B,exports.GetHashtagRecentMediaRequest=j,exports.GetHashtagTopMediaRequest=$,exports.GetInstagramAccountInfoRequest=Te,exports.GetInstagramAccountInfoResponse=Ee,exports.GetLinkedInstagramAccountRequest=class extends r{constructor(e,t){super(e),this.facebookPageId=t,this.params.fields="instagram_business_account"}parseResponse(e){return new Fe(e)}url(){return`/${this.facebookPageId}`}},exports.GetLinkedInstagramAccountResponse=Fe,exports.GetMediaChildrenRequest=X,exports.GetMediaChildrenResponse=Y,exports.GetMediaCommentsRequest=z,exports.GetMediaInfoRequest=ee,exports.GetMediaInfoResponse=Z,exports.GetMediaInsightsResponse=ie,exports.GetObjectCommentsResponse=f,exports.GetPageDayInsightsRequest=xe,exports.GetPageInfoRequest=he,exports.GetPageInfoResponse=ce,exports.GetPageLifetimeInsightsRequest=Ie,exports.GetPageLifetimeInsightsResponse=we,exports.GetPageMediaRequest=ve,exports.GetPageMediaResponse=Pe,exports.GetPageMonthInsightsRequest=Re,exports.GetPageRecentlySearchedHashtagsRequest=Le,exports.GetPageStoriesRequest=be,exports.GetPageTimedInsightsResponse=ge,exports.GetPageWeekInsightsRequest=_e,exports.GetRepliesRequest=b,exports.GetSimplePostMediaInsightsRequest=ne,exports.GetStoryMediaInsightsRequest=oe,exports.GetTagsRequest=Ge,exports.GetTagsResponse=Ve,exports.GetUserLongLivedTokenRequest=class extends r{constructor(e,t,s){super(e),this.appId=t,this.appSecretId=s}parseResponse(e){return new Be(e)}url(){return["/oauth/access_token?","grant_type=fb_exchange_token&",`client_id=${this.appId}&`,`client_secret=${this.appSecretId}&`,`fb_exchange_token=${this.params.access_token}`].join("")}},exports.GetUserLongLivedTokenResponse=Be,exports.ManyIdsResponse=fe,exports.Paging=F,exports.PostHideCommentRequest=O,exports.PostMediaCommentRequest=J,exports.PostPageCarouselMediaRequest=Ce,exports.PostPagePhotoMediaRequest=ye,exports.PostPageReelMediaRequest=De,exports.PostPageStoriesPhotoMediaRequest=ke,exports.PostPageStoriesVideoMediaRequest=Ue,exports.PostPublishMediaRequest=Oe,exports.PostReplyRequest=G,exports.SimpleMetric=re,exports.Utils=k,exports.paramsToURLSearchParams=s;
